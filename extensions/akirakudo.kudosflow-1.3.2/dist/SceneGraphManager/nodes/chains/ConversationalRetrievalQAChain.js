const a5_0x2191a9=a5_0x5324;(function(_0x42d2d9,_0x205dcf){const _0x48d0da=a5_0x5324,_0x13a9f5=_0x42d2d9();while(!![]){try{const _0x25c3e6=-parseInt(_0x48d0da(0x20b))/0x1+-parseInt(_0x48d0da(0x200))/0x2*(-parseInt(_0x48d0da(0x1fc))/0x3)+-parseInt(_0x48d0da(0x18d))/0x4+-parseInt(_0x48d0da(0x1c3))/0x5*(parseInt(_0x48d0da(0x1f5))/0x6)+-parseInt(_0x48d0da(0x1f7))/0x7*(parseInt(_0x48d0da(0x207))/0x8)+-parseInt(_0x48d0da(0x184))/0x9+parseInt(_0x48d0da(0x1bf))/0xa*(parseInt(_0x48d0da(0x1c2))/0xb);if(_0x25c3e6===_0x205dcf)break;else _0x13a9f5['push'](_0x13a9f5['shift']());}catch(_0x19d13a){_0x13a9f5['push'](_0x13a9f5['shift']());}}}(a5_0x1131,0x29f27));const a5_0x16897b=(function(){const _0x2a4d7b=a5_0x5324,_0x5369cf={};_0x5369cf[_0x2a4d7b(0x1cd)]=function(_0x39b122,_0x2dfa4c){return _0x39b122===_0x2dfa4c;},_0x5369cf['OxcPP']='YeVEJ',_0x5369cf[_0x2a4d7b(0x1cc)]=_0x2a4d7b(0x1fb);const _0x9a276e=_0x5369cf;let _0x260341=!![];return function(_0x334fc0,_0x2f9e27){const _0x1bf73e=_0x2a4d7b,_0x4434b3={'heLzf':function(_0x1f03d9,_0x25577c){return _0x9a276e['NtAkI'](_0x1f03d9,_0x25577c);},'xYIVk':_0x9a276e[_0x1bf73e(0x202)],'flRGv':_0x9a276e[_0x1bf73e(0x1cc)]},_0x293bcf=_0x260341?function(){const _0x59fffd=_0x1bf73e;if(_0x4434b3[_0x59fffd(0x1ba)](_0x4434b3[_0x59fffd(0x1ec)],_0x4434b3['flRGv'])){const _0x2a384a=_0x30281c?function(){const _0x5aa52f=_0x59fffd;if(_0x180984){const _0x2a9acf=_0x57262e[_0x5aa52f(0x1e9)](_0x3e4ca1,arguments);return _0x336731=null,_0x2a9acf;}}:function(){};return _0x5c258f=![],_0x2a384a;}else{if(_0x2f9e27){const _0x426cba=_0x2f9e27[_0x59fffd(0x1e9)](_0x334fc0,arguments);return _0x2f9e27=null,_0x426cba;}}}:function(){};return _0x260341=![],_0x293bcf;};}()),a5_0x17da27=a5_0x16897b(this,function(){const _0x4c7f32=a5_0x5324,_0x346c62={};_0x346c62[_0x4c7f32(0x1c7)]=_0x4c7f32(0x211);const _0x5d915b=_0x346c62;return a5_0x17da27['toString']()[_0x4c7f32(0x1df)](_0x5d915b['nwaoY'])['toString']()[_0x4c7f32(0x1c0)](a5_0x17da27)['search'](_0x4c7f32(0x211));});function a5_0x1131(){const _0x459655=['uMv0CMLLDMvYig5VDcbPBML0AwfSAxPLza','Bg9Hze1LBw9YEvzHCMLHyMXLCW','CMv0CMLLDMvYtM9Kzq','EfzSqLi','BwvTB3j5tM9Kzq','yw5ZD2vY','y29UDgv4Da','z0T2q2G','wvDzDwW','q2HHAw4GBM90igLUAxrPywXPEMvK','ugXczNu','EMriqvm','zfvTvKG','C2vHCMnO','DNzKq3C','qu50uMy','y29UC29Szq','BgfUz2nOywLUl2nOywLUCY9YzxrYAwv2ywW','vM9Uzhi','DxvbCuS','q29UDMvYC2f0Aw9UywXszxrYAwv2ywXrqunOywLU','AhvTyw4','CMv0CMLLDMvY','yxbWBhK','r2L2zw4GysbJAgf0igHPC3rVCNKGyw5KihrOzsbSyxrLC3qGDxnLCIbXDwvZDgLVBIb3AgLJAcbTAwDODcbYzwzLCMvUy2uGy29UDgv4DcbPBIb0AguGy2HHDcbOAxn0B3j5lcakicaGicaGzM9YBxvSyxrLigeGC3rHBMrHBg9UzsbXDwvZDgLVBIb3AgLJAcbJyw4GyMuGDw5KzxjZDg9Vzcb3AxrOB3v0ihrOzsbJAgf0igHPC3rVCNKUiaOGicaGicbeBYbot1qGyw5ZD2vYihrOzsbXDwvZDgLVBIWGANvZDcbYzwzVCM11Bgf0zsbPDcbPzIbUzwvKzwqGyw5Kig90AgvYD2LZzsbYzxr1CM4GAxqGyxmGAxmU','C3rYzwfT','EfLjvMS','y3jLyxrLu3r1zMzeB2n1BwvUDhndAgfPBG','surNDKW','zgf0yq','y3jLyxrLsgLZDg9YEuf3yxjLuMv0CMLLDMvY','D2fYBG','AMPKAhy','re1IExy','BgvUz3rO','mZqWntKWrvH2q0P2','ChjVBxb0','mJC3mtnKzwrAsuG','Aw5PDgLHBgL6zu1VzgvSqw5KtwvTB3j5','s3Pdqvm','uNHRwhO','DgnwuNq','mJuWnJi2C1jvBxLj','CKXnzgm','zKfHELi','lI9cyxnLq2HHAw5oB2rL','nhrAAMjMCW','x19WCM90B19F','t3HJufa','z3fRzee','CMvWAhjHC2vqCM9TChq','u1nezxG','zgvMAw5LuhjVCgvYDhK','mJG4t2zeELDS','wufYtvm','ChjLCgfYzuLUChv0v2L0AeLTywDL','u2H4zxK','mJCZnJeXtenwCKPU','Aw5WDxq','rhniA0S','v0LHCha','CMv0DxjUu291CMnLrg9JDw1LBNrZ','CvfOBMO','kcGOlISPkYKRksSK','CfP4uei','vw5RBM93BIbLCNjVCIbVy2n1CNjLza','C3rYAw5N','BKX5v2y','y1DMrgq','Aw5WDxrZ','DMvJDg9Yu3rVCMvszxrYAwv2zxi','yuPrsK8','y29UDgvUDa','Aw52B2TL','twvZC2fNzxnqBgfJzwHVBgrLCG','zKTxDvu','Awn6yuq','rhr0DMm','qMfZzunOywLUtM9Kzq','C291CMnLrg9JDw1LBNrZ','tw9KzwWGBM90igLUAxrPywXPEMvK','mJy0ndCYmLvKAe1Vyq','qgXHBMDJAgfPBI9JB3jLl3bYB21WDhm','DgfIBgu','y29TyMLUzurVy3ndAgfPBG','tfDXDMO','CMr6ww8','ANDTBLG','rxjYB3iGAw4Gq29UDMvYC2f0Aw9UywXszxrYAwv2ywXrqunOywLUihf1zxj5oG','CMv0DxjUicHMDw5JDgLVBIGPia','oti5odq4wM5AyKne','DhLWzq','Aw5PDgLHBgL6zq','Dfrvr28','u3PjrNy','CNPiC0K','z2v0sw5ZDgfUy2u','C3LZDgvT','rxjYB3iGAw4Gq29UDMvYC2f0Aw9UywXszxrYAwv2ywXrqunOywLUihn0CMvHBvf1zxj5oG','shreBNG','rMfPBgvKihrVigzPBMqGDMvJDg9Yu3rVCMvszxrYAwv2zxiGBM9KzsbMB3iG','Bg9N','wNfsAxa','DhnMquS','C3vJy2vZCW','q3niDMK','yMLUza','Aw5ZDgfUy2u','DMfSDwu','D0LUALy','q2HHDfbYB21WDfrLBxbSyxrL','DhjHy2u','zNjSufK','zNjVBu1LC3nHz2vZ','y0Xvthy','BgfUz2nOywLUl2nOywLUCY9OAxn0B3j5x2f3yxjLx3jLDhjPzxzLCG','z3bQy0e','tMPyEuS','B3v0Chv0','Eu50D1e','rLLTvLy','v3jXsNi','qwDusei','BgfUz2nOywLUl2nOywLUCY9JB21IAw5Lx2rVy3vTzw50CW','AgjXC2G','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','sNL6uLy','CgTOt1a','y1b1q2C','y2HHDf9OAxn0B3j5','Dg9tDhjPBMC','qwPfEfC','y3jLyxrLuMv0CMLLDMfSq2HHAw4','tMrPvwC','Eg5Wsu8','AgvmEMy','uuHbrhO','vKrLD04','vw5RBM93BIbYzxrYAwv2zxiGDhLWztOG','vLntsey','mZGXme5vB3LxuW','y29UC3rYDwn0B3i','uKnOBLi','mZu1ndfytg1eDLK','mJvkzMDtzhi','v2TTzhO','rMfPBgvKihrVigDLDcbYzxrYAwv2zxiGAw5ZDgfUy2u','zwXrDLK','BNDHB1K','ChjVDg90ExbL','vhvtvxm','CwftExn0zw1qCM9TChq','BgfUz0nOywLUsw5ZDgfUy2u','EMHLC24','tNrbA0K','DwPiu0q','v1HrDMC','zxjYB3i','tvLZCum'];a5_0x1131=function(){return _0x459655;};return a5_0x1131();}a5_0x17da27();const a5_0x2ed9e2=(function(){let _0x3fe9d6=!![];return function(_0x14f072,_0x46ee50){const _0x57f955=_0x3fe9d6?function(){const _0x934d11=a5_0x5324;if(_0x46ee50){const _0x3d589d=_0x46ee50[_0x934d11(0x1e9)](_0x14f072,arguments);return _0x46ee50=null,_0x3d589d;}}:function(){};return _0x3fe9d6=![],_0x57f955;};}()),a5_0xecdc66=a5_0x2ed9e2(this,function(){const _0x4016e7=a5_0x5324,_0x203830={'nLyWf':function(_0x2aaf53,_0x2dce75){return _0x2aaf53+_0x2dce75;},'rdzYo':_0x4016e7(0x1b0),'uuAqK':_0x4016e7(0x1db),'elQvY':function(_0x428ba7){return _0x428ba7();},'WrqJr':_0x4016e7(0x198),'YWYul':_0x4016e7(0x1f1),'xrFfM':'info','zdHAS':'error','aGWFW':function(_0x1c9392,_0x357dfb){return _0x1c9392!==_0x357dfb;},'wInjV':_0x4016e7(0x1e4)},_0x3a5e8a=function(){const _0x440685=_0x4016e7;let _0x46fba9;try{_0x46fba9=Function(_0x203830[_0x440685(0x215)](_0x440685(0x18c),_0x203830[_0x440685(0x189)])+');')();}catch(_0x81e11d){_0x46fba9=window;}return _0x46fba9;},_0x119c9f=_0x203830[_0x4016e7(0x1c6)](_0x3a5e8a),_0x1ecaba=_0x119c9f['console']=_0x119c9f[_0x4016e7(0x1e2)]||{},_0x3368b2=[_0x203830[_0x4016e7(0x1ac)],_0x203830[_0x4016e7(0x1da)],_0x203830['xrFfM'],_0x203830[_0x4016e7(0x1dd)],'exception',_0x4016e7(0x186),_0x4016e7(0x1a2)];for(let _0x19241d=0x0;_0x19241d<_0x3368b2[_0x4016e7(0x1f4)];_0x19241d++){if(_0x203830['aGWFW'](_0x203830['wInjV'],_0x203830[_0x4016e7(0x1a0)]))throw new _0x36dbea(_0x203830[_0x4016e7(0x1e5)]);else{const _0x4069f2=a5_0x2ed9e2[_0x4016e7(0x1c0)][_0x4016e7(0x1c8)][_0x4016e7(0x19d)](a5_0x2ed9e2),_0x413591=_0x3368b2[_0x19241d],_0x335a15=_0x1ecaba[_0x413591]||_0x4069f2;_0x4069f2[_0x4016e7(0x201)]=a5_0x2ed9e2[_0x4016e7(0x19d)](a5_0x2ed9e2),_0x4069f2['toString']=_0x335a15[_0x4016e7(0x1b5)][_0x4016e7(0x19d)](_0x335a15),_0x1ecaba[_0x413591]=_0x4069f2;}}});a5_0xecdc66();'use strict';const a5_0x16de23={};a5_0x16de23[a5_0x2191a9(0x19f)]=!![],Object[a5_0x2191a9(0x206)](exports,'__esModule',a5_0x16de23),exports['ConversationalRetrievalQAChain']=void 0x0;function a5_0x5324(_0x6ed194,_0x1a509f){const _0xa1b4cf=a5_0x1131();return a5_0x5324=function(_0xecdc66,_0x2ed9e2){_0xecdc66=_0xecdc66-0x17e;let _0x40573e=_0xa1b4cf[_0xecdc66];if(a5_0x5324['NemIpO']===undefined){var _0x3a89c4=function(_0x5324cc){const _0x1c2365='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x44190c='',_0x52137a='',_0x24ef20=_0x44190c+_0x3a89c4;for(let _0x4a3269=0x0,_0x22ef6b,_0x3355bc,_0x3e4f8e=0x0;_0x3355bc=_0x5324cc['charAt'](_0x3e4f8e++);~_0x3355bc&&(_0x22ef6b=_0x4a3269%0x4?_0x22ef6b*0x40+_0x3355bc:_0x3355bc,_0x4a3269++%0x4)?_0x44190c+=_0x24ef20['charCodeAt'](_0x3e4f8e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x22ef6b>>(-0x2*_0x4a3269&0x6)):_0x4a3269:0x0){_0x3355bc=_0x1c2365['indexOf'](_0x3355bc);}for(let _0x3304b2=0x0,_0x4e315c=_0x44190c['length'];_0x3304b2<_0x4e315c;_0x3304b2++){_0x52137a+='%'+('00'+_0x44190c['charCodeAt'](_0x3304b2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x52137a);};a5_0x5324['qUGkkx']=_0x3a89c4,_0x6ed194=arguments,a5_0x5324['NemIpO']=!![];}const _0x17da27=_0xa1b4cf[0x0],_0x16897b=_0xecdc66+_0x17da27,_0x11312c=_0x6ed194[_0x16897b];if(!_0x11312c){const _0x1ac450=function(_0x5ad1a0){this['qKqrUh']=_0x5ad1a0,this['nNTnYn']=[0x1,0x0,0x0],this['pRzVNb']=function(){return'newState';},this['HJQaLZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['JybDbJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1ac450['prototype']['jcGPrG']=function(){const _0x346e09=new RegExp(this['HJQaLZ']+this['JybDbJ']),_0x423baa=_0x346e09['test'](this['pRzVNb']['toString']())?--this['nNTnYn'][0x1]:--this['nNTnYn'][0x0];return this['gEQAbQ'](_0x423baa);},_0x1ac450['prototype']['gEQAbQ']=function(_0x42622c){if(!Boolean(~_0x42622c))return _0x42622c;return this['EXFJZq'](this['qKqrUh']);},_0x1ac450['prototype']['EXFJZq']=function(_0x338c30){for(let _0x542a22=0x0,_0x14f6d4=this['nNTnYn']['length'];_0x542a22<_0x14f6d4;_0x542a22++){this['nNTnYn']['push'](Math['round'](Math['random']())),_0x14f6d4=this['nNTnYn']['length'];}return _0x338c30(this['nNTnYn'][0x0]);},new _0x1ac450(a5_0x5324)['jcGPrG'](),_0x40573e=a5_0x5324['qUGkkx'](_0x40573e),_0x6ed194[_0x16897b]=_0x40573e;}else _0x40573e=_0x11312c;return _0x40573e;},a5_0x5324(_0x6ed194,_0x1a509f);}const BaseChainNode_1=require(a5_0x2191a9(0x1ff)),prompts_1=require(a5_0x2191a9(0x185)),combine_documents_1=require(a5_0x2191a9(0x1ae)),history_aware_retriever_1=require(a5_0x2191a9(0x1a6)),retrieval_1=require(a5_0x2191a9(0x1e3));class ConversationalRetrievalQAChain extends BaseChainNode_1[a5_0x2191a9(0x181)]{[a5_0x2191a9(0x20f)]=![];['retrieverNode']=null;async['initialize'](_0x4e2433){const _0xacb434=a5_0x2191a9,_0x44fb4b={'dUmVH':function(_0x257546,_0x565de5,_0x51d1ba){return _0x257546(_0x565de5,_0x51d1ba);},'gqkdA':_0xacb434(0x218),'ujHSD':function(_0xc7544b,_0x49e9fe){return _0xc7544b!==_0x49e9fe;},'IDgvL':_0xacb434(0x1c5),'jjdhv':_0xacb434(0x194),'rzHsI':'{input}','pZxPB':_0xacb434(0x1b4),'tsfAK':_0xacb434(0x1e7)},{nodeId:_0x1aae13,findConnectedNode:_0x4752e0,nodeHandlers:_0x37910b}=_0x4e2433;this[_0xacb434(0x20f)]=_0x4e2433[_0xacb434(0x20f)]||![];const {modelInstance:_0x23a2bf,memoryInstance:_0x3bd929}=await this[_0xacb434(0x1f8)](_0x1aae13,_0x4752e0,_0x37910b);this[_0xacb434(0x1d4)]=_0x44fb4b[_0xacb434(0x1de)](_0x4752e0,_0x1aae13,_0x44fb4b[_0xacb434(0x203)])||null;if(!this[_0xacb434(0x1d4)])throw new Error('Failed\x20to\x20find\x20vectorStoreRetriever\x20node\x20for\x20'+_0x1aae13);if(!this[_0xacb434(0x1d4)][_0xacb434(0x1ef)][_0xacb434(0x19e)]){if(_0x44fb4b[_0xacb434(0x1ce)]('gBXfs',_0xacb434(0x1a8))){const _0x537bb6=_0x37910b[this[_0xacb434(0x1d4)][_0xacb434(0x1ef)][_0xacb434(0x18e)]];if(!_0x537bb6)throw new Error('Unknown\x20retriever\x20type:\x20'+this[_0xacb434(0x1d4)][_0xacb434(0x1ef)][_0xacb434(0x18e)]);this[_0xacb434(0x1d4)][_0xacb434(0x1ef)][_0xacb434(0x19e)]=await _0x537bb6[_0xacb434(0x18f)]({'nodeId':this[_0xacb434(0x1d4)]['id'],'findConnectedNode':_0x4752e0,'nodeHandlers':_0x37910b,...this['retrieverNode']['data'][_0xacb434(0x217)]});}else{const _0x2e16d9=_0x7676e8[_0xacb434(0x1e9)](_0x36abac,arguments);return _0x1cc117=null,_0x2e16d9;}}const _0x2d1d12=this[_0xacb434(0x1d4)]['data']['instance'][_0xacb434(0x193)]();if(!_0x2d1d12)throw new Error(_0x44fb4b[_0xacb434(0x1ee)]);const _0x248e36=_0x4e2433['contextualizeQSystemPrompt']||_0xacb434(0x1ea),_0x2f6ca2=prompts_1[_0xacb434(0x1a1)][_0xacb434(0x1a4)]([[_0x44fb4b[_0xacb434(0x1f2)],_0x248e36],new prompts_1[(_0xacb434(0x21c))](_0xacb434(0x1b4)),[_0xacb434(0x1e7),_0x44fb4b[_0xacb434(0x192)]]]),_0xcfaaa2={};_0xcfaaa2['llm']=_0x23a2bf,_0xcfaaa2[_0xacb434(0x1e8)]=_0x2d1d12,_0xcfaaa2[_0xacb434(0x204)]=_0x2f6ca2;const _0x2c9442=await(0x0,history_aware_retriever_1[_0xacb434(0x1f0)])(_0xcfaaa2),_0x3f959e=_0x4e2433[_0xacb434(0x1ca)]||'You\x20are\x20an\x20assistant\x20for\x20question-answering\x20tasks.\x20Use\x20the\x20following\x20pieces\x20of\x20retrieved\x20context\x20to\x20answer\x20the\x20question.\x20\x0a\x20\x20\x20\x20\x20\x20If\x20you\x20don\x27t\x20know\x20the\x20answer,\x20just\x20say\x20that\x20you\x20don\x27t\x20know.\x20Use\x20three\x20sentences\x20maximum\x20and\x20keep\x20the\x20answer\x20concise.\x0a\x20\x20\x20\x20\x20\x20\x0a\x0a{context}',_0x3644e2=prompts_1[_0xacb434(0x1a1)]['fromMessages']([[_0x44fb4b[_0xacb434(0x1f2)],_0x3f959e],new prompts_1['MessagesPlaceholder'](_0x44fb4b[_0xacb434(0x212)]),[_0x44fb4b[_0xacb434(0x19a)],'{input}']]),_0x5de93d={};_0x5de93d['llm']=_0x23a2bf,_0x5de93d[_0xacb434(0x1f6)]=_0x3644e2;const _0x15a5d8=await(0x0,combine_documents_1[_0xacb434(0x1ed)])(_0x5de93d),_0x375899={};_0x375899['retriever']=_0x2c9442,_0x375899[_0xacb434(0x187)]=_0x15a5d8;const _0x5dc3e6=await(0x0,retrieval_1[_0xacb434(0x1b7)])(_0x375899);return this[_0xacb434(0x1cb)]=_0x5dc3e6,this;}async[a5_0x2191a9(0x21b)](_0xaac929,_0x148926={}){const _0x3c23ef=a5_0x2191a9,_0xc70426={'MYrbh':function(_0x54aabc,_0xb6c997){return _0x54aabc(_0xb6c997);},'DMbyv':function(_0x1fc4cb,_0x3a98bc){return _0x1fc4cb+_0x3a98bc;},'jwmnX':_0x3c23ef(0x18c),'NdiUg':'{}.constructor(\x22return\x20this\x22)(\x20)','UPUlF':_0x3c23ef(0x195),'WXQvg':'Qiyve','qECST':'Chain\x20not\x20initialized','cPuCg':function(_0x4ce0c5,_0x30642b){return _0x4ce0c5===_0x30642b;},'TuSUs':'kHQPA','cWfDd':function(_0x49e000,_0x28aab2){return _0x49e000!==_0x28aab2;},'JyzRV':'Wkmdz','vvdCw':'aQylT','FYmVV':function(_0x19df79,_0xe38105){return _0x19df79===_0xe38105;},'pKHDl':_0x3c23ef(0x1a5),'LOqME':function(_0x1c391b,_0x1f5c18){return _0x1c391b===_0x1f5c18;},'PlBfu':_0x3c23ef(0x1be),'QHADz':_0x3c23ef(0x18b),'xnpIO':_0x3c23ef(0x213)};if(!this[_0x3c23ef(0x1cb)]){if(_0xc70426[_0x3c23ef(0x1cf)]!==_0xc70426[_0x3c23ef(0x1cf)]){const _0x322776=_0x346e09?function(){const _0x2fcede=_0x3c23ef;if(_0x94552e){const _0x42c707=_0x1041b0[_0x2fcede(0x1e9)](_0x152d9a,arguments);return _0x3d8bdf=null,_0x42c707;}}:function(){};return _0x14f6d4=![],_0x322776;}else throw new Error(_0xc70426['qECST']);}try{let _0x2346cc=[];if(this[_0x3c23ef(0x1d6)]?.[_0x3c23ef(0x1ef)]?.[_0x3c23ef(0x19e)]){const _0x1a04ca=this[_0x3c23ef(0x1d6)][_0x3c23ef(0x1ef)][_0x3c23ef(0x19e)][_0x3c23ef(0x193)]();if(_0x1a04ca){if(_0xc70426[_0x3c23ef(0x1b3)](_0xc70426[_0x3c23ef(0x1c9)],_0xc70426[_0x3c23ef(0x1c9)])){const _0x5960a2=await _0x1a04ca[_0x3c23ef(0x1d3)]({});_0x2346cc=_0x5960a2['chat_history']||[];}else _0x5f1116=TEDOtX['MYrbh'](_0x361dfe,TEDOtX[_0x3c23ef(0x1f3)](TEDOtX[_0x3c23ef(0x18a)]+TEDOtX[_0x3c23ef(0x1b8)],');'))();}}const _0x1758d0=this[_0x3c23ef(0x209)](_0xaac929,_0x148926),_0x1573f6={..._0x1758d0,'chat_history':_0x2346cc,..._0x148926},_0x46bfef=await this[_0x3c23ef(0x1cb)][_0x3c23ef(0x21b)](_0x1573f6);if(this[_0x3c23ef(0x1d6)]?.[_0x3c23ef(0x1ef)]?.['instance']){if(_0xc70426[_0x3c23ef(0x216)](_0x3c23ef(0x1c4),_0xc70426[_0x3c23ef(0x1b1)]))throw new _0x271093(_0x3c23ef(0x1c5));else{const _0x599834=this[_0x3c23ef(0x1d6)]['data'][_0x3c23ef(0x19e)][_0x3c23ef(0x193)]();if(_0x599834){if('aQylT'===_0xc70426[_0x3c23ef(0x1e0)]){const _0x1d0920={};_0x1d0920[_0x3c23ef(0x20c)]=_0xaac929;const _0x3f7b93={};_0x3f7b93[_0x3c23ef(0x1a9)]=_0x46bfef[_0x3c23ef(0x1d7)],await _0x599834['saveContext'](_0x1d0920,_0x3f7b93);}else{_0x2f3837['error'](_0xc70426['UPUlF'],_0x404f69);throw _0x5caeb9;}}}}const _0x203b22={};_0x203b22['answer']=_0x46bfef[_0x3c23ef(0x1d7)],_0x203b22[_0x3c23ef(0x19b)]=!![];const _0x3f0078=_0x203b22;if(this[_0x3c23ef(0x20f)]&&_0x46bfef['context']){if(_0xc70426[_0x3c23ef(0x1ab)](_0x3c23ef(0x1a5),_0xc70426['pKHDl'])){const _0x3c6d4e={..._0x3f0078};return _0x3c6d4e[_0x3c23ef(0x182)]=_0x46bfef['context'],_0x3c6d4e;}else{const _0x4ec7a6=_0x408fa3[_0x3c23ef(0x1e9)](_0x4bbde1,arguments);return _0x376502=null,_0x4ec7a6;}}return _0x3f0078;}catch(_0x439657){if(_0xc70426['LOqME']('VSSHF',_0xc70426[_0x3c23ef(0x1dc)])){console[_0x3c23ef(0x1d0)](_0xc70426[_0x3c23ef(0x1bb)],_0x439657);const _0x521808={};return _0x521808[_0x3c23ef(0x1d0)]=_0x439657 instanceof Error?_0x439657['message']:_0xc70426[_0x3c23ef(0x1b9)],_0x521808[_0x3c23ef(0x19b)]=![],_0x521808;}else{if(_0x45fc64){const _0x2a54cf=_0x5f2e56[_0x3c23ef(0x1e9)](_0x18d837,arguments);return _0x16c386=null,_0x2a54cf;}}}}async*[a5_0x2191a9(0x1eb)](_0x5e8339,_0x2aad1d={}){const _0x2ab91c=a5_0x2191a9,_0x5bcf55={};_0x5bcf55[_0x2ab91c(0x191)]=_0x2ab91c(0x213),_0x5bcf55[_0x2ab91c(0x19c)]=_0x2ab91c(0x1db),_0x5bcf55[_0x2ab91c(0x208)]=_0x2ab91c(0x1d2),_0x5bcf55[_0x2ab91c(0x1d1)]=function(_0xa8aec2,_0x4634d2){return _0xa8aec2!==_0x4634d2;},_0x5bcf55[_0x2ab91c(0x1e1)]=_0x2ab91c(0x1fa),_0x5bcf55['mlNEn']=_0x2ab91c(0x1f9),_0x5bcf55[_0x2ab91c(0x1fd)]='sWmyq',_0x5bcf55[_0x2ab91c(0x20e)]='deNHg',_0x5bcf55[_0x2ab91c(0x190)]='AbQHO',_0x5bcf55[_0x2ab91c(0x1d9)]=_0x2ab91c(0x183),_0x5bcf55[_0x2ab91c(0x20a)]=function(_0x241a3e,_0x4bf4db){return _0x241a3e in _0x4bf4db;},_0x5bcf55[_0x2ab91c(0x188)]=_0x2ab91c(0x1eb),_0x5bcf55[_0x2ab91c(0x196)]=function(_0x49d51b,_0x314417){return _0x49d51b===_0x314417;},_0x5bcf55['SSDex']=_0x2ab91c(0x1aa),_0x5bcf55[_0x2ab91c(0x1d5)]=function(_0x214cf9,_0x4a148d){return _0x214cf9!==_0x4a148d;},_0x5bcf55[_0x2ab91c(0x199)]='frlPY',_0x5bcf55['qQhnj']='hbqsh',_0x5bcf55['fAazR']=_0x2ab91c(0x1b6),_0x5bcf55[_0x2ab91c(0x1c1)]=function(_0x51cbda,_0x7253d6){return _0x51cbda===_0x7253d6;},_0x5bcf55[_0x2ab91c(0x1b2)]='bwofy',_0x5bcf55['iczaD']=_0x2ab91c(0x1a7),_0x5bcf55[_0x2ab91c(0x1bc)]=_0x2ab91c(0x17e),_0x5bcf55[_0x2ab91c(0x180)]=_0x2ab91c(0x195);const _0x1fce5a=_0x5bcf55;if(!this[_0x2ab91c(0x1cb)]){if(_0x1fce5a[_0x2ab91c(0x1d1)](_0x1fce5a[_0x2ab91c(0x1e1)],'RxkXz')){const _0x54eef3={..._0x44e92e};return _0x54eef3[_0x2ab91c(0x182)]=_0x274587['context'],_0x54eef3;}else throw new Error(_0x1fce5a['CsHvi']);}try{let _0x24a0ae=[];if(this[_0x2ab91c(0x1d6)]?.['data']?.['instance']){const _0x14409d=this[_0x2ab91c(0x1d6)][_0x2ab91c(0x1ef)][_0x2ab91c(0x19e)]['getInstance']();if(_0x14409d){if(_0x1fce5a['mlNEn']!==_0x2ab91c(0x219)){const _0x1ba3b3=await _0x14409d[_0x2ab91c(0x1d3)]({});_0x24a0ae=_0x1ba3b3[_0x2ab91c(0x1b4)]||[];}else throw new _0x42f6af(_0x2ab91c(0x197)+_0x1e98c6);}}const _0x549710=this[_0x2ab91c(0x1d4)];if(!_0x549710||!_0x549710[_0x2ab91c(0x1ef)][_0x2ab91c(0x19e)]){if(_0x1fce5a[_0x2ab91c(0x1d1)](_0x2ab91c(0x1ad),_0x1fce5a[_0x2ab91c(0x1fd)]))throw new Error(_0x2ab91c(0x1d2));else _0x4e9edd=_0x3341a2;}const _0x4ca699=this['modelNode'];if(!_0x4ca699||!_0x4ca699['data'][_0x2ab91c(0x19e)]){if(_0x1fce5a[_0x2ab91c(0x1d1)](_0x1fce5a['WIapp'],_0x1fce5a[_0x2ab91c(0x190)]))throw new Error(_0x1fce5a[_0x2ab91c(0x1d9)]);else{const _0x1060ec=_0x3e9242['constructor'][_0x2ab91c(0x1c8)][_0x2ab91c(0x19d)](_0x5f19c1),_0x251372=_0x39deb8[_0x5a7c8e],_0x3dd4e4=_0x4cb9cf[_0x251372]||_0x1060ec;_0x1060ec[_0x2ab91c(0x201)]=_0x312b66[_0x2ab91c(0x19d)](_0x15cfbd),_0x1060ec[_0x2ab91c(0x1b5)]=_0x3dd4e4[_0x2ab91c(0x1b5)][_0x2ab91c(0x19d)](_0x3dd4e4),_0x31e72b[_0x251372]=_0x1060ec;}}const _0x377958=_0x4ca699[_0x2ab91c(0x1ef)][_0x2ab91c(0x19e)]['getInstance']();if(!_0x1fce5a['Shxey'](_0x1fce5a[_0x2ab91c(0x188)],_0x377958)){if(_0x1fce5a[_0x2ab91c(0x196)](_0x2ab91c(0x20d),_0x1fce5a[_0x2ab91c(0x205)]))throw new _0x328112(_0x1b98bc[_0x2ab91c(0x1d0)]||_0x1fce5a['SzIFv']);else{const _0x26fdb2=await this['invoke'](_0x5e8339,_0x2aad1d);if(_0x26fdb2['success']){if(_0x1fce5a[_0x2ab91c(0x1d5)](_0x2ab91c(0x1a3),_0x1fce5a['ZqRip']))throw new _0x554467(_0x1fce5a[_0x2ab91c(0x19c)]);else yield _0x26fdb2[_0x2ab91c(0x1d7)];}else{if(_0x1fce5a[_0x2ab91c(0x210)]!==_0x2ab91c(0x1af))throw new _0x4b1eec(_0x1fce5a[_0x2ab91c(0x208)]);else throw new Error(_0x26fdb2[_0x2ab91c(0x1d0)]||_0x1fce5a[_0x2ab91c(0x191)]);}return;}}const _0x1dcb25=this[_0x2ab91c(0x209)](_0x5e8339,_0x2aad1d),_0x58417e={..._0x1dcb25,'chat_history':_0x24a0ae,..._0x2aad1d},_0x44aae1=await this['langChainInstance']['stream'](_0x58417e);let _0x1c2c66='',_0x447fc1=null;for await(const _0x12982c of _0x44aae1){if(_0x1fce5a['fAazR']!==_0x1fce5a[_0x2ab91c(0x1fe)])throw new _0x3e3099(_0x2ab91c(0x1bd)+this['retrieverNode']['data'][_0x2ab91c(0x18e)]);else{if(_0x12982c['answer']){if(_0x1fce5a['RChnR'](_0x1fce5a[_0x2ab91c(0x1b2)],_0x1fce5a[_0x2ab91c(0x1b2)]))_0x1c2c66+=_0x12982c['answer'],yield _0x12982c['answer'];else throw new _0x545da9(_0x2ab91c(0x183));}else{if(_0x1fce5a['HtDnx'](typeof _0x12982c,_0x2ab91c(0x214)))_0x1c2c66+=_0x12982c,yield _0x12982c;else _0x12982c['content']&&(_0x1c2c66+=_0x12982c[_0x2ab91c(0x21a)],yield _0x12982c[_0x2ab91c(0x21a)]);}_0x12982c[_0x2ab91c(0x1d8)]&&(_0x447fc1=_0x12982c[_0x2ab91c(0x1d8)]);}}if(this[_0x2ab91c(0x1d6)]?.['data']?.['instance']){if(_0x1fce5a[_0x2ab91c(0x17f)]!==_0x1fce5a['VDewN']){const _0xad57b5=this[_0x2ab91c(0x1d6)][_0x2ab91c(0x1ef)][_0x2ab91c(0x19e)][_0x2ab91c(0x193)]();if(_0xad57b5){const _0x413109={};_0x413109[_0x2ab91c(0x20c)]=_0x5e8339;const _0x3d3789={};_0x3d3789[_0x2ab91c(0x1a9)]=_0x1c2c66,await _0xad57b5['saveContext'](_0x413109,_0x3d3789);}}else _0x364305=_0x16e948[_0x2ab91c(0x1d8)];}if(this[_0x2ab91c(0x20f)]&&_0x447fc1){const _0x31ab31={};_0x31ab31['sourceDocuments']=_0x447fc1,yield _0x31ab31;}}catch(_0x4de99d){console[_0x2ab91c(0x1d0)](_0x1fce5a[_0x2ab91c(0x180)],_0x4de99d);throw _0x4de99d;}}}exports[a5_0x2191a9(0x1e6)]=ConversationalRetrievalQAChain;